"webkit" {
	"encoding/json"
	"fmt"
	"testing"
}

# 测试单api #
TestBenchmarkSingleAPI(t: ?testing.T ->) {
	bm := NewWebBenchmark(NewWebClient("http://baidu.com/"))
	count := bm.RunSingleAPI(10, 3, 1000, (cli:?WebClient, index:Int -> err:error) {
		(body, err) := cli.Form_GET("ping", Nil)
		? err >< Nil {
			<- err
		}
		fmt.Println(string(body))
		<- Nil
	})
	(bts, err) := json.Marshal(count)
	? err >< Nil {
		fmt.Println(err)
	}
	fmt.Println(string(bts))
}
